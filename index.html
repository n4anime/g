<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<link href="https://fonts.googleapis.com/css2?family=Baloo+Bhaijaan+2:wght@400;600;800&display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet"/>

<style>
:root {
   --pixel-size: clamp(2px, 0.25vw, 2px);
   --grid-cell: calc( var(--pixel-size) * 16);
   --bg: #9fa7e4;
}

@media( min-width: 700px ) {
   :root {
      --pixel-size: 2px;
   }
}


@media( min-width: 1000px ) {
   :root {
      --pixel-size: 2px;
   }
}


/* @media( min-width: 1000px ) {
   :root {
      --pixel-size: 5px;
   }
} */

html, body {
   height: 100%;
}

body {
height: 100%;
    width: 100%;
    background: #000000;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0px;
    padding: 0px;
    overflow: hidden;
}

.pixel-art {
   image-rendering: pixelated;
}



.frame {
   /* This is just for Pen decoration */
   height: 100%;
   width: 100%;
   /* width: calc(var(--pixel-size) * 160); */
   /* height: calc(var(--pixel-size) * 144); */
   outline: var(--pixel-size) solid #fff;
   z-index:1;
   position:relative;
}



.camera {
   height: 100%;
   width: 100%;
   /* width: calc(var(--pixel-size) * 160); */
   /* height: calc(var(--pixel-size) * 144); */
   overflow: hidden;
   background: #61ddf7;
   position:relative;
}




/* ===== مقاس الخلفية 1024*1024  ===== */
.map{
  background-image: url("ne.gif");
  background-repeat: no-repeat;
  background-size: calc(var(--grid-cell) * 280);
  width:  calc(var(--grid-cell) * 280);
  height: calc(var(--grid-cell) * 280);
}


.character {
  
  width: calc( var(--grid-cell)* 2 );
  height: calc( var(--grid-cell)* 2 );
  position: absolute;
  overflow:visible;
  z-index: 5;

  top: 0;
  left: 0;
}

.shadow {
   width: calc( var(--grid-cell)* 2 );
   height: calc( var(--grid-cell)* 2 );
   position: absolute;
   left:0;
   top:0;
   background: url("https://assets.codepen.io/21542/DemoRpgCharacterShadow.png") no-repeat no-repeat;
   background-size: 100%;
}

.character_spritesheet {

  position: absolute;
  background: url("walk.png") no-repeat no-repeat;
  background-size: 100%;
  width: calc( var(--grid-cell)* 8 );
  height: calc( var(--grid-cell)* 8 );

  top: 0;
  left: 0;
}

.character[facing="right"] .character_spritesheet {
   background-position-y: calc( var(--pixel-size) * -32 );
}
.character[facing="up"] .character_spritesheet {
   background-position-y: calc( var(--pixel-size) * -64 );
}
.character[facing="left"] .character_spritesheet {
   background-position-y: calc( var(--pixel-size) * -96 );
}
.character[walking="true"] .character_spritesheet {
   animation: walkAnimation 0.6s steps(4) infinite; 
}

@keyframes walkAnimation {
  from {
    transform: translate3d(0%,0%,0);
  }
  to {
    transform: translate3d(-100%,0%,0);
  }
}

.dpad {
   position:absolute;
   right: calc(var(--pixel-size) * 2);
   bottom: calc(var(--pixel-size) * 2);
   width: calc(var(--pixel-size) * 37);
   height: calc(var(--pixel-size) * 38);
}
.dpad-button {
   appearance:none;
   outline:0;
   border:0;
   background:transparent;
   padding:0;
   cursor:pointer;
}
.dpad-button svg {
   display:block;
   height: calc(var(--pixel-size) * 13);
}

.dpad-button.pressed .Arrow_arrow-inset { stroke:#07c2cc; }
.dpad-button.pressed .Arrow_arrow-body { stroke:#17dfea; }

.dpad-up {
   position: absolute;
   left: calc(var(--pixel-size) * 12);
   top:0;
}
.dpad-down {
   position: absolute;
   bottom:var(--pixel-size);
   left: calc(var(--pixel-size) * 12);
}
.dpad-left {
   position: absolute;
   top: calc(var(--pixel-size) * 12);
   left:0;
}
.dpad-right {
   position: absolute;
   top: calc(var(--pixel-size) * 12);
   right:0;
}

.dpad {
   user-select:none;
}





#joyZone{
   position:absolute;
   right: calc(var(--pixel-size) * 4);
   bottom: calc(var(--pixel-size) * 4);
   width: calc(var(--pixel-size) * 80);
   height: calc(var(--pixel-size) * 80);
   touch-action: none;
}
.corner_topleft,
.corner_topright,
.corner_bottomleft,
.corner_bottomright {
   position: absolute;
   width: var(--pixel-size);
   height: var(--pixel-size);
   background: var(--bg);
   z-index:2;
}

.corner_topleft {
   top: calc(var(--pixel-size) * 19);
   left: calc(var(--pixel-size) * -1);
}
.corner_topright {
   top: calc(var(--pixel-size) * -1);
   right: calc(var(--pixel-size) * -1);
}
.corner_bottomleft {
   bottom: calc(var(--pixel-size) * -1);
   left: calc(var(--pixel-size) * -1);
}
.corner_bottomright {
   bottom: calc(var(--pixel-size) * -1);
   right: calc(var(--pixel-size) * -1);
}

.headline {
   position:absolute;
   top:calc(var(--pixel-size) * 2);
   right:calc(var(--pixel-size) * 2);
   width: calc(var(--pixel-size) * 75)
}

/* ===== HUD + عناصر تفاعلية (2..6) ===== */
.hud{
position: absolute;
    left: calc(var(--pixel-size) * 2);
    top: calc(var(--pixel-size) * 2);
    z-index: 5;
    font-family: monospace;
    font-size: calc(var(--pixel-size) * 9);
    background: rgb(255 255 255 / 60%);
    padding: calc(var(--pixel-size) * 2) calc(var(--pixel-size) * 2);
    border-radius: calc(var(--pixel-size) * 4);
}
.hud b{ font-weight: 700; }

.map-item{
   z-index: 4;
   position:absolute;
   width: var(--grid-cell);
   height: var(--grid-cell);
   image-rendering: pixelated;
   background-size: 100% 100%;
   background-repeat: no-repeat;
   cursor: pointer;
   touch-action: manipulation;
}
.map-item.hidden{ display:none; }


.character_inner{
  overflow: hidden;
  width: 100%;
  height: 100%;
  transform: scale(1.6);
  transform-origin: bottom center;
}






.map-item[data-type="2"]
{
  transform: translate(-50%, -50%) scale(2);
  transform-origin: center;
}




.map-item[data-type="3"]
{
  transform: translate(-50%, -50%) scale(7.5);
  transform-origin: center;
}


.map-item[data-type="4"]
{
  transform: translate(-50%, -50%) scale(2);
  transform-origin: center;
}

/* ===== خط + واجهات البداية/النهاية + إعدادات ===== */
body{ font-family: "Baloo Bhaijaan 2", system-ui, sans-serif; }

#zoomLayer{
  position:absolute;
  left:0; top:0;
  transform: scale(var(--zoom, 1));
  transform-origin: center;
}

.map{ position:relative; }

#collisionCanvas{
  position:absolute;
  left:0; top:0;
  width: 100%;
  height: 100%;
  z-index: 3;
  pointer-events:none;
  opacity: var(--collide-opacity, 0);
}

.hud{
  font-family: "Baloo Bhaijaan 2", system-ui, sans-serif;
}
.hud i{ margin-left: calc(var(--pixel-size) * 2); }

.top-right{
  position:absolute;
  top: calc(var(--pixel-size) * 2);
  right: calc(var(--pixel-size) * 2);
  z-index: 6;
  display:flex;
  gap: calc(var(--pixel-size) * 2);
}
.icon-btn{
  width: calc(var(--pixel-size) * 18);
  height: calc(var(--pixel-size) * 18);
  border: 0;
  border-radius: calc(var(--pixel-size) * 6);
  background: rgb(255 255 255 / 70%);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size: calc(var(--pixel-size) * 10);
}

.icon-btn.zoom-val{ cursor:default; font-weight:800; }
.panel{
  position:absolute;
  top: calc(var(--pixel-size) * 22);
  right: 0;
  width: calc(var(--pixel-size) * 110);
  background: rgb(0 0 0 / 70%);
  color:#fff;
  padding: calc(var(--pixel-size) * 6);
  border-radius: calc(var(--pixel-size) * 8);
  display:none;
}
.panel.open{ display:block; }
.panel .row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: calc(var(--pixel-size) * 6);
  margin-bottom: calc(var(--pixel-size) * 5);
  font-size: calc(var(--pixel-size) * 10);
}
.panel .ctrl{
  display:flex;
  gap: calc(var(--pixel-size) * 4);
  align-items:center;
}
.panel .mini{
  width: calc(var(--pixel-size) * 14);
  height: calc(var(--pixel-size) * 14);
  border:0;
  border-radius: calc(var(--pixel-size) * 5);
  cursor:pointer;
  font-weight:800;
}
.panel .mini.red{ background:#d11; color:#fff; }
.panel .mini.gray{ background:#fff; color:#000; }
.panel .val{ min-width: calc(var(--pixel-size) * 18); text-align:center; }

.overlay{
  position:fixed;
  inset:0;
  background:#000;
  z-index: 100;
  display:flex;
  align-items:center;
  justify-content:center;
}
.overlay .box{
  width:min(520px, 92vw);
  background: rgb(255 255 255 / 8%);
  border: 1px solid rgb(255 255 255 / 18%);
  border-radius: 16px;
  padding: 18px;
  color:#fff;
  text-align:center;
}
.overlay .box h2{ margin:0 0 1px; font-size:22px; }
.overlay .box p{ margin:0 0 1px; font-size:18px; }
.overlay .actions{ display:flex; justify-content:center; gap:10px; flex-wrap:wrap; }
.overlay .actions button{
  border:0;
  border-radius: 12px;
  padding: 10px 14px;
  cursor:pointer;
  font-weight:800;
}
.overlay .actions .primary{ background:#fff; color:#000; }
.overlay .actions .ghost{ background: rgb(255 255 255 / 18%); color:#fff; border:1px solid rgb(255 255 255 / 22%); }

#shareCard{background: rgb(0 0 0 / 35%); border:1px solid rgb(255 255 255 / 18%); border-radius: 14px; padding: 12px; margin-bottom: 12px;}
/* ===== Ve04: بداية اللعبة صور فقط ===== */
#introTitle, #introText { display:none; }
#introYes { font-size: 22px; padding: 12px 18px; }





/* ===== V11: حوارات مع صورة يمين النص ===== */
.box.dialog {
    margin: 10px;
display: flex;
    align-items: center;
    gap: 1px;
    text-align: right;
    flex-direction: column;
}
.box.dialog .dialog-img {
  width:200px;
 
  object-fit:cover;
  border-radius:14px;
  flex:0 0 auto;
}
.box.dialog .dialog-body {
  flex:1 1 auto;
}
@media (max-width:520px){
  .box.dialog { flex-direction:column; text-align:center; }
  .box.dialog .dialog-img { width:200px; }
}

/* ===== V11: تثبيت حجم اللعبة ضد Zoom المتصفح (نعكسه على .frame فقط) ===== */
.frame { transform-origin: center center; }















/* === شاشة النهاية: الترتيب النهائي === */
#endOverlayContent {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* الصورة + العنوان */
#endOverlayContent .dialog-img,
#endOverlayContent h2 {
  margin-bottom: 10px;
}

/* النتائج + زر المشاركة */
#endOverlayContent .dialog-body {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
}

/* زر المشاركة فقط */
#endOverlayContent .dialog-body .actions {
  margin-top: 1px;
}

/* نعم / لا تحت مع بعض */
#endOverlayContent > .actions {
  margin-top: 1px;
  display: flex;
  gap: 10px;
}


</style>

</head>
<body>

<!-- 
   see the video tutorial for how this kind of thing works:
   https://youtu.be/H3Fn33lYuE0
-->

<div class="frame">
   <div class="corner_topleft"></div>
   <div class="corner_topright"></div>
   <div class="corner_bottomleft"></div>
   <div class="corner_bottomright"></div>
   
   
   <div class="camera">

      <div class="hud" id="hud">
         <span><i class="fas fa-feather-alt"></i> <b id="score">0</b></span>
         <span style="margin-left:calc(var(--pixel-size)*3)">
		 <i class="fa-solid fa-stopwatch"></i> <b id="timer">00:00</b></span>
      </div>


<div class="top-right">
  <button class="icon-btn" id="zoomOut" title="تصغير">-</button>
  <div class="icon-btn zoom-val" id="zoomVal" aria-label="التكبير">1x</div>
  <button class="icon-btn" id="zoomIn" title="تكبير">+</button>
  <button class="icon-btn" id="eyeBtn" title="إظهار العقبات"><i class="fa-solid fa-eye"></i></button>
</div>

      <div id="zoomLayer"><div class="map pixel-art">
	  
	  
<canvas id="collisionCanvas"></canvas>

<div class="character" facing="down" walking="true">
  <div class="character_inner">
    <div class="shadow pixel-art"></div>
    <div class="character_spritesheet pixel-art"></div>
  </div>
</div>

		 
		 
      </div></div>

       <div id="joyZone"></div>


      
      
      
   </div>
</div>



<div class="overlay" id="introOverlay">
  <div class="box dialog">
    <img class="dialog-img" id="introImg" src="s01.png" alt="">
    <div class="dialog-body">

    <h2 id="introTitle">مرحباً في لعبة راشد</h2>
    <p id="introText">هل أنت مستعد للعبة؟</p>
    <div class="actions" id="introActions">
      <button class="primary" id="introYes">نعم</button>


    </div>
	    <a href="https://x.com/iR4KUN" target="_blank">
  <img src="rashed.png" alt="صورة" style="width:150px;padding:20px 5px 1px 5px;">
</a>
</div>
  </div>
</div>

<div class="overlay" id="endOverlay" style="display:none">
  <div class="box dialog" id="endOverlayContent">
    <img class="dialog-img" id="endImg" src="s04.png" alt="">
    <div class="dialog-body">

    <div id="shareCard">

      <p>عدد الريش : <b id="endStars"></b></p>
    
    </div>
</div>

	    <a href="https://x.com/iR4KUN" target="_blank">
  <img src="rashed.png" alt="صورة" style="width:150px;padding:20px 5px 1px 5px;">
</a>


    <div class="actions" style="margin-top:1px">
      <button class="primary" id="shareBtn"><i class="fa-solid fa-share-nodes"></i> مشاركة</button>
</div>
    <p style="margin-top:1px">إعادة اللعبة من جديد؟</p>
    <div class="actions">
      <button class="primary" id="restartYes">نعم</button>
      <button class="ghost" id="restartNo">لا</button>
    </div>
  </div>

<div class="overlay" id="confirmRestartOverlay" style="display:none">
  <div class="box dialog">
    <img class="dialog-img" id="confirmImg" src="s05.png" alt="">
    <div class="dialog-body">

    <h2>هل أنت متأكد؟</h2>
    <p style="margin-top:1px">إعادة اللعبة من جديد؟</p>
    <div class="actions">
      <button class="primary" id="confirmRestartYes">نعم</button>
      <button class="ghost" id="confirmRestartNo">لا</button>
    
    </div>
</div>
  </div>
</div>

</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/nipplejs/0.10.2/nipplejs.min.js"></script>
<script>

// ===== Ve03: تفريمت اللعبة عند الرفرش/الإغلاق =====
(function(){
  // امسح حفظ اللعبة عند فتح الصفحة (عشان تبدأ من الصفر دائماً)
  try {
    localStorage.removeItem("collectedStars");
    localStorage.removeItem("stars");
    localStorage.removeItem("collected");
    localStorage.removeItem("collectedItems");
    localStorage.removeItem("collected_tiles");
    localStorage.removeItem("collectedStars_v1");
  } catch(e){}

  // امسح عند الإغلاق/الرفرش
  window.addEventListener("beforeunload", function(){
    try {
      localStorage.removeItem("collectedStars");
      localStorage.removeItem("stars");
      localStorage.removeItem("collected");
      localStorage.removeItem("collectedItems");
      localStorage.removeItem("collected_tiles");
      localStorage.removeItem("collectedStars_v1");
    } catch(e){}
  });
})();



var character = document.querySelector(".character");
var map = document.querySelector(".map");

//start in the middle of the map
const START_X = 400;
const START_Y = 165;
var x = START_X;
var y = START_Y;
var held_directions = []; //State of which arrow keys we are holding down
var speed = 2; //How fast the character moves in pixels per frame
// ===== نظام التصادمات =====
// الفكرة: نخلي الشخصية تمشي فقط على المسارات (الطرق الحجرية)
// بيانات التصادمات تم استخراجها تلقائياً من صورة الخريطة
// 0 = مسار (مسموح المشي)
// 1 = غير مسار (عائق: شجر/ماء/عشب/جدار..)

const TILE = 16;
let MAP_COLS = 280;
let MAP_ROWS = 280;

// collisions عبارة عن مصفوفة نصوص:
// كل سطر طوله MAP_COLS
// الوصول للخانة يكون: collisions[row][col]

































const collisions = [
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110020111111111111111111111111111111111111111111111",
  "1111111111111111110000000000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111110000000000111111111111111111111111111111102011111111111111111102011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110001111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111110000000000111111111111111100000011111111100011111111111111111100011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110201111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111110000000000111111111111111100000011111111100011111111111111111100011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110001111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111110000000000111100111111111100000011111111100011111111111111111100011111111111111111111111000011000111111111111111111111111111111111111111120111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000000011111",
  "1111111111111111110000000000000000111111111100020011111111100011111111111111111100011111111111111111111111102111001111111111111111111111111111111111111111000011111111111000001111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000200011111",
  "1111111111111111110000000000000000111111111100000011111111100011111111111111111100011111111111111111111111000010000111111111111111111111111111111111111111000000011111111000000111111111111111111111111111111111111100000000001111111110000111111111000000000000000000000000000000011111",
  "1111111111111111110000000000000000111111111100000011111111100011111111111111111100011111111111111111111110000000000021111111111111111111111111111111111111100000000000000000000000200111111111111111111111111111111111100000011111111110000111111111000111111111111111111111111111111111",
  "1111111111111111110000000000111100011111111111111111111111100011111111111111111100011111111111111111111111111100111001111111111111111111111111111111111111111000000000000000000000000111111111111111111111111111111111100000011111111110000111111111000111111111111111111111111111111111",
  "1111111111111111110000000001111100100000000000000000000000000011111111111111111100011111111111111111111111111100110001111111111111111111111111111111111111111110000000000000000000000111111111111111111111111111111111100000111111111110000111111111000111111111111111111111111111111111",
  "1111000000000000011111111111111100100000000000000000000000000011111111111111111100011111111111111111111111111100111000111111111111111111111111111111111111111111000001111111111111111111111111111111111111111111111111100000111111111110000111111111020111111111111111111111111111111111",
  "1111000000000000011111111111111100100000000000000000000000000000011111111111111100011111111111111111111111111100000001111111111111111111111111111111111111111111000011111111111111111111111111111111110001111111111111100000111111111110000111111111111111111111111111111111111111111111",
  "1111020000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111111111111111110000111111111111111111111111111111111111111111111000011111111111111111111111111111111110001111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111111111111111111000011111111111111111111100000011111111111111111000111111111111111111111111111111111110001111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111110001111111010011111100111111111000000000000000000000111111100111111100011111111100001111111111111111111111001111111111111111111111100000011111111111111111000111111111111111111111111111111111110200000000000000111111111111111110000111111111111111111111111111111111111111111111",
  "1111110001111111010011111100111111111000000000000000000000111111000111111100011111111100001111111111111111111111001111111111111011111111100000011111111111111110000111111111111111111111111111111111110000000000000000111111111111111110000111111111111111111111111111111111111111111111",
  "1111110001111111010011111100111111111000000000000000000000111111000111111100011111111100111111111111111111100000000000111111010001101111100000011111111111111110000000000000000000001111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111110001111111010011111100111111000000010000000000000000111111000111111100011111111100111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111000000000000000000000000000000000000010000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111000000000000000000000000000000000000010000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111001111110011111111111101111110000000110000000000100011111100111111000111111111000000000000000000000000000000000000111111111111100000000000000000000000000000000000110000000000111111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111001111110011111111111101111110000000110000000000000011111100111111000111111111000000011111111111110001111011010001111111111111111000000000001111111111111111000101111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111001111110011111111111101111110000000000000000000000011111100111111000111111111000100011111111111111111111111110001111111111111111100100000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111021111110011111111111101111110000000000000000000000011111110111111000111111111001100011111111111111111111111110001111111111111111111100000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111001111110011111111111101111111000101111000000011110000001110111111100111111111001100011111111111111111111111110001111111111111111111100000001111111111111111000111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000001111111111111111111111",
  "1111111111111111111111111101111111000101111000000011110000000111111111111111111111101100011111111111111111111111110001111111111111111111100000001111111111111111000011111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000001111111111111111111111",
  "1111111111111111111100000001111100000101111000000011110000000111111111111111111111111100011111111111111111111111110001111111111111111111100000001111111111111111000111111111111111111111111111111111111111111111111000000000000000000000000000000000000000000000001111111111111111111111",
  "1111111111111111111101000101111100000001111000000011110011011111111111111111111110000000011111111111111111111111110001111111111111111111000000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111101000101111100001101111000000011110011011111111111111111111100000000011111111111111111111111110001111111111111111111100000001111111111111111000111010000111111111111111111111111111111111111111000111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111101111101111100001101111000000011110011001111111111111111111100000000011111111111111111111111110001111111111111111111100000001111111111111110000000000000000111111111111111111111111111111111111020111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111101111101111100001101111000000011110011011111111111111111111100000000011111111111111111111111110000001111111111111111100000001111111111111111000000000000020111111111111111111111111111111111111000111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111101111100000000001000000000000000000011011111111111111111111110001111111111111111111111111111110000001111111111111111100000000111111111111111000000000000000111111111111111111111111111111111111000111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111100000000000000000000000000000000000000011111111111111111111110001111111111111111111111111110000001111111111111111111100000000111111111111111000000011110000111111111111111111111111111111111111000111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111101111000111100111111111100000000001111110211111111111111111110001111111111111111111111112000000001111111111111111111100000001111111200000000000011111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111211111111111111101111001111100111111111100000000101111110001111111111111111110001111111111111111111111000001110001111111111111111111100000001111000000000001000111111111111111111111000000000000000000000000000000111111111111111110000111111111111020111111001111111111111111111111",
  "1110000000000000011100000001111100111111111100000000101111100000001111111111111110001111111111111111111110000111110001111111111110011111100000001111111101000111000111111111111111111000000000000000000000000000000000111111111111111110020111111111111000111111001111111111111111111111",
  "1110000000000000011111111111111100111111111100000000101111100000000000000001111110001111111111111111000110011111110000111111011100011111100000000011111111000011000111111111111111100000000000000000000000000000000000111111111111111110000111111111111000111111001111111111111111111111",
  "1110000000000000000000000000000000000001111100000000100000000000000000000000000110001111111111111111000010011111110000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111000111111111111111110000111111111111000111111001111111111111111111111",
  "1111000000000000000000000000000000000001111100000000000000000000000000000000000000000000111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111111111",
  "1111111111111111111111111111111111111000000000000000000011111111111111111111111111111100111111111110200000000000000000000000000000000000000200000000000000000000000000000000000000001111111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111111111",
  "1111111111111111111111111111111111111000000000000000000011111111111111111111111111111100111111111110000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111111111",
  "1111111111111111111111111111111111111000000000000000000011111111111111111111111111111100111111111111111111111111110000000000000000000000000000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111111111",
  "1111111111111111111111111111111111111000111000000000000011111111111111111111111111111100111111111111111111111111110000011111111111111111000000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111111111",
  "1111000000000000000000000000000000000000111000000000100000000000000000000000000000000000111111111111111111111111110001111111111111111111000000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111111111",
  "1111000000000000000000000000000000000000111000000000100000000000000000000000000000000000111111111111111111111111110001111111111111111111000000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111100000111111111111000111111001111111111111111211111",
  "1111111111111111111111111100000000000000111000000000100011111111111111111111111111100000111111111111111111111111110001111111111111111111100000001111111111111111000111111111111111111111111111111111111111111111111000111111111111111110000000000000000000000000000000000000000000001111",
  "1111111111111111111111111101111111000000111000000000100111111111111111111111111111100000111111111111111111111111110001111111111111111111000000001111111111111111000011111111111111111111111111111111111111111111111000111111111112000000000000000000000000000000000000000000000000001111",
  "1111111111111111111111111101111111000000000000000000000111111111111111111111111111100000111111111111111111111111110001111111111111111111000000001111111111111111000111111111111111111111111111111111111111111111111000000000000000000000000111111111111111111111001111111111111111111111",
  "1111111111111111111111111101111111000000000000000000000111111111111111111111111111100000111111111111111111111111000001111111111111111111100000001111111111111111000111111111111111111111111111111111111111111111111000000000000000000000000111111111111111111111001111111111111111111111",
  "1111111111111111111111111101111111000000111000000001110111111111111111111111111111100000111111111111111111111110000001111111111111111111100000001111111111111111000111100000000000000001111111111111110200000000000000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111101111111000000111000000001110000000000000000000000000000000000111111111111111111111110000001111111111111111110000000011111111111111111000110020000000000000001111111111111110000000000000000111111111111111110000111111111111111111111001111111111111111111111",
  "1111100200000000000000000000000000000000000000000001110000000000000000000000000000000000111111111111111111111000000001111111111111000000000000011111111111111111000000000000000000020001111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111011111111111111111110000000000000110000000001010011111111111111111111110000000000111111111111111111000000000001111111111111000000000000111111111111111111000001110000000000000001111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111100000000000000110000000001110011111111111111111111110000000000111111111111111111000111100001111111111111000000000000111111111111111111000001110001110110000111111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111110000000001100110000000001110011111111111111111111110000000000111111111111111000001111110001111111111111100000010000111111111111111111000011100001111111011111111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111110000000001100110000000001110011111111111111111111110000000000111111111111111100201111110001111111111111111111110000111111111111111111000011111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111110000000001000110000000001110001111100000000000000010000000000111111111111111100001111000001111111111111111111110000111111111111111111000011111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111110000000000000000000000000000000011100000000000000000000000020111111111111111111011111100001111111111111111111110000111111111111111111000111111111111111111111111111111111111111111111111000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111110000000001111110000000000000000000000000000000000000000000000111111111111111111111111000001111111111111111111110000111111111111111111000111111111111111111111111111111111111111111111110000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111112000000000011111111110000000000111111111101000000000000000011111111111111111111111111111111000011111111111111111111110000111111111111111111000111111111111111111111111111111111111111111111110000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111110000000001011111111110010000100111111111101100011111110001011111111111111111111111111111111100001111111111111111111110000111111111111111111000111111111111111111111111111111111111111111111110000111111111111111110000111111111111111111111001111111111111111111111",
  "1111111111111111111111111110011011111111110010000100111111111101100011111110001011111111111111111111111111111111000000000000000111111111100000000111111111111100000111111111111111111111111111111111111111111000000000111111111111111110000111111111111111111110001111111111111111111111",
  "1111111111111111111111111111111011111111110010000100111111111101100011111110000011111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000001111111111111111111102000000000000000000020011111110000111110000000000000000000000000021111111111111",
  "1111111111111111111111111111111011111111110010000100111111111101100011111110001011111111111111111111121000100000000000000000000000000000000000100000000000000000000011000000000002001111111111111111111100000000000000000000000011111110000000000000000000000000000000000000111111111111",
  "1111111111111111111111111111111011111111110010000100111111111101100000000000001000000002001111111111100000110000000011000011111111111111110000110000000001111110000011100000000000001111111111111111111111111111110000111111111111111110000000000000000000000000000000000000111111111111",
  "1111111111111111111111111111000000000000000010000100000000000000000000000000000000000000001111111111111100110000000011000111111111111111110000111111100011111110000011101111111111101111111111111111111111111111111000111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000000000000000010000100000000000000000000000000000000000000001111111111111100110001000011111111111111111111110000011111111111111111110000011111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000111111111100010000100011000000000000000000000000111111111101111111111111100110011100011111111111111111111110000011111111111111111111021111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000111111111100010000100011000111011111111111111000111111111101111111111111100100001001111111111111111111111110000111111111111111111111001111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000111111111100010000100011000111011111111111111000111111111101111111111111102000100011111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000111111111100010000100011000111011111111111111000111111111101111111111111100001110111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000111111111100010000100000000111011111111111111000111111111101111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111200111111111100010000100000020111011111111111111000111111111121111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111000000000000000010000100000000111011111111111111000111111111101111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111000111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000001111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000001111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111120000000000000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111211111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111002001111111111111111111111",
  "1111111111111111111111001111111111111111111110000011111111111111111111111111111111111111111111211111111100011111111111111111111112011111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111100000011111111111111110000000011111111111111111111",
  "1111111111111111111011200000011111111111111111000011111111111111111111111111111111111111111111000000000000000000000000000001111110011111100000000000000000000000000000000000000011111111111111111111111111111020001111111111111111111100000011111111111111111000000011111111111111111111",
  "1111111111111111111101000000011111111111111111000011111111111111111111111111111111111111111111111111111100011111111111111001111110011111100111111111111111111000111111111111110011111111111111111001111111111000001111111111111111111100000011111111111111111000000011111111111111111111",
  "1111111111111111111110011100011111111111111111000011111111111111111111111111111111111111111111111111111100011111111111111001111110011111100111111111111111111000111111111111110011111111111111110201111111111100000001111111111111111100000011111111111111110000000011111111111111111111",
  "1111111111111111111110011110011111111111111111000001111111111111111111111111111111111111111111111111111100011111111111111001111110011111100111111111111111111000111111111111110011111112111111110011111111111110000111111111111111111100000011111111111111110000000011111111111111111111",
  "1111111111111111101110011110002011111111111100000000111111111111111111111111111111111111111111111111111100011111111111111001111110000000000000001111111111111000111111111111110000000000111111110011111111111111000000011111111111111100000011111111111111110000000001111111111111111111",
  "1111111111111110001100011110000011111111111100000000011111111111111111111111111111111111111111111111111100011111111111111001111110000000000000001111111111111000111111111111110000000000111111110011111111111111000000011111111111111100000011111111111111110000000000111111111111111111",
  "1111111111111111000000011110000111111111111100000000001111111111111111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111110001111111111110000000011111111111111100000011111111111111110000000000001111111111111111",
  "1111111111111111111100000000111111111111111100000000021111111111111111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111000000001100000000000011111111111111100000001111110000000000001111111111111111111111111",
  "1111111111111111111110000111111111111111111100110000001111111111111111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111000000000000000000000011111111111111100000000000000000000000011111111111111111111111111",
  "1111111111111111111110001111111111111111110000110000011111111111111111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111000000000000000000000000011100000011111100000000001111110000000001111111111111111111111111",
  "1111111111111111111110011111111111111111110000000000111111111111111111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111000100000000000000001110000000000000000000000000111111111111111100111111111111111111111111",
  "1111111111111111111100011111111111111111110000000001111111111111111111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111111111111000000000000000000000011111111111111111100011111111111111111111111",
  "1111111111111111111100011111111111111111110000000011111111111111111111111111111111111111111111211111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111111111111000000001111000000000011111111111111111110001111111111111111111111",
  "1111111111111111111100011111111111111111110000000011111111111111111111111111111111111111111111000000000000000000000000000000000000011111111111000000000000000000000000000000000000000020111111111111111111111111111111111111111111111100000011111111111111111110000111111111111111111111",
  "1111111111111111111100011111111111111111110000000011111111111111111111111111111111111111111111111111111100000000000000000000000000011111111111000000000000000000000000000000000000000000111111111111111111111111111111111111111111111100000011111111111111111111000111111111111111111111",
  "1111111111111111111100011111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111001111111111111000111111111111111111111111111111111111111111111111111111111111111111111100000011111111111111111111000000000001111111111111",
  "1111111111111111111100011111111111111111111110000001111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111001111111111111000111111111111111111111111111111111111111111111111111111111111111111111100000011111111111111111111000000000000111111111111",
  "1111111111111111111100011111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111001111111111111000111111111111111111111111111111111111111111111111111111111111111111111100000011111111111111111111000000000000011111111111",
  "1111111111111111110000001111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111001111111111111000111111111111111111111111111111111111111111110201111111111111111111111100000011111111111111111111000000000000011111111111",
  "1111111111111111110000001111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111001111111111111000111111111111111111111111111111111111111110000001111111111111111111111100000011111111111111111111000111111111111111111111",
  "1111111111111111111000001111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111001111111111111000111111111111111111111111111111111100000000000001111111111111111100111100000011111111111111111010000111111111111111111111",
  "1111111111111111111100000111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111110000000000000000111111111111111000111100000011111111111111110000000111111111111111111111",
  "1111111111111111111100000111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111110002000111100000000011111111111111000111100000000000000000000000000000111111111111111111111",
  "1111111111111111111110000111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111110000000111100000000000110000000000000000100000000000000000110000010000111111111111111111111",
  "1111111111111111111110000111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111110011111111000000000000000000000000000000000000000000111111111111000011111111111111111111",
  "1111111111111111111100000111111111111111111110000011111111111111111111111111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111000000000100000000000000000000000000111111111111110000011111111111111111",
  "1111111100000111111100000111111111111111111110000011111111111111111111111110000001111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111100000001111000000000000000011111111111111111111110000011111111111111111",
  "1111111100200000000000000000000000000000000000020000000000000000000000000000000000000000201111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111100011111111111111111100000011111111111111111111111110000000000000011111",
  "1111111100000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111100011111111111111111100000011111111111111111111111110000000000020011111",
  "1111111100000000000000000000001101011111000000000000000000000000000000000000000000111100001111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111000111111111111111111100000011111111111111111111111110000000000000011111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111000111111111111111111100000011011111111111111111111110000001111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111110000111111111111111111100000011111111111111111111111110000011111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111111111111100011111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111110000111111111111111111100000011111111111111111111111110000011111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111200000000000000000000000000001111111111111100000000000000000000000000000000000002011111111111111111111111111111110000111111111111111111100000011111111111111111111111100000011111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111000000000000000000000000000001111111111111100000000000000000000000000000000000000011111111111111111111111111111110000111111111111111111100000011111111111111110000011000000011111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111111111111100011111111111111001111111111111100111111111111111111000111111111111110011111111111111111111111111111110000000000000000011111100000011111111111111100000000000000111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111111111000111111111111111111111111111111100011111111111111001111111111111100111111111111111111000111111111111110011111111111111111111111111111110011111110000000001111000000011111111000000000000000000001111111111111111",
  "1111111111111111111111000000001111111111111100000011111111111111111111000111111111111111111111111111111100011111111111111001111111111111100111111111111111111000111111111111110011111111111111111111111111111100011111111110000000000000000000000000000000000000000000011111111111111111",
  "1111111111111111111111000000001111111111111100000001111111111111111111000111111111111111111111111111111100011111111111111000000000000000000000001111111111111000111111111111110011111111111111111111111111111100011111111111100011100000000000000002000110000000000000011111111111111111",
  "1111111111111111111111000001111111111111111100000000000000000000000000000001111111111111111111111111111100011111111111111000000000000000000000001111111111111000111111111111110011111111111111111111111111111100011111111111111111110000000000000000001111000000000000111111111111111111",
  "1111111111111111111111000001111111111111111100000000000000000000000000000001111111111111111111111111111100011111111111111001111111111111111111001111111111111000111111111111110011111111111111111111111111111100011111111111111111111100000001111111111111111111000001111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100010111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111100001111111111111111111100000001111111111111111111000001111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111100011111111111111111111100000001111111111111111111000111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111100011111111111111111111100000001111111111111111111000111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111100001111111111111111111100000001111111111111111111000111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111111111111100011111111111111001111110011111111111001111111111111000111111111111110011111111111111111111111111111100001111111111111111111100000001111111111111111111000111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111000000000000000000000000000200000000011111111111000000000000000000000000000000000000000000000000111111111111111100001111111111111111111100000001111111111111111111001111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111000000000000000000000000000000000000011111111111000000000000000000000000000000000000000000000000001111111111111000000011111111111111111100000001111111111111111111001111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111111111111100111111111111111111111111111000000000000111111111111111111111110011111111111001111111111111000111111111111111111111111000000000001111111111000000011111100111111111100000001110000111111100000001111111111111111111111",
  "1111111111111111111110020001111111111111111100000011111111111111100111111111111211111111111100000000000000111111111111111111111110011111111111001111111111111000111111111111111111111111000000000000001111110000000000000000000000000000000000000000000000000000001111111111111111111111",
  "1111111111111111111111000001111111111111111100000011111112111111100011111111100001111111110000000000000000111111111111111111111110011111111111001111111111111000111111111111111111111111111111110000000000000000000000000000000000000000000000000000000000000000000000011111111111111111",
  "1111111111111111111111111101111111111111111100000000000000000000000000000000000000000000000001111111111110111111111111111111111110011111111111001111111111111000111111111111111111111111111111111100000000000000000000001110000000000000000000000000000000111111110000011111111111111111",
  "1111111111111111111111111111111111111111111100000000000000000000000000000000000000000000000011111111111110111111111111111111111110011111111111001111111111111000111111111111111111111111111111111110000000000000111111111111111111111100000001111100000000111111110001111111111111111111",
  "1111111111111111111111111111111111111111111100000000111111110000000111111111111111111111111111111111111110111111111111111111111110011111111111001111111111111000111111111111111111111111111111111111111100000001111111111111111111111100000001111111111111111111111100111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111000111111111111111111111111111111111111110111111111111111111111110011111111111001111111111111000111111111111111111111111111111111111111100000011111111111111111111111110000111111111111111111111111100020011111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111100111111111111111111111111111111111111110111111111111111111111110011111111111001111111111111000111111111111111111111111111111111111111110001111111111111111111111111110000111111111111111111111111111000011111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111100111111111111111111111111111111111111110111111111111111111111110011111111111001111111111111000111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111100111111111111111111111111111200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000011111111111111100111111111111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111100000111111111111111100111111111111111111111111111111111111110111111111100111111111111111111111000111111111111111000111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111110111111111100111111111111111111111000111111111111111000111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111110111111111100000111111111111111111000111111111111111000011111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111110111111111100011111111111111111111000111111111111111000111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111110111111111100111111111111111111111000111111111111111000111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111110111111111000111111111111111111111000111111111111111000111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111000111111111111111111111000111111111111111000111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111000111111111111111111111000111111111111111001111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111000111111111111111111111000111111000000011001111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111100111111111111111111111000111111000000001001111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111120111111111111111111111111111111111111111111111111121111111111111111111111000111111000000001201111111110011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111101111111111111111111111000111111000000000000000000002011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111111111111111111111111111000011111000000000000000000000011111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111100111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111112000000000000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111001111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111001111110000111111111111111111111111111111111111111111111111111111111111111111111111111111100011111100000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111020000000000000000000000000000000000000000000002111111111111111111111111111111111111111111111111111111111111000001111100000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111101000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111000000200000000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111100011111111111111111111111111111111111111111111111111111111000000000000000000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111100111100010011111111111111110000111111111111111100011111111111111111111111111111111111111110000000000000000000111100000000000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111100000000000011111111111111110000111111111111111100011111111111111111111111111111111111111110000002000000000000111111111110000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111110011000000011111111111111110000111111111111111100011111111111111111111111111111111111111111111000011111000011111111111110000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111110011011110011111111111111110000111111111111111100011111111111111111111111111111111111111111111000011111000111111111111110000001111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111110011111110011111111111111110000111111111111111100011111111111111111111111111111111111111111111000011111111111111111111110000000011111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111100111111110011111111111111110000111111111111111100011111111111111111111111111111111111111111111000011111111111111111111110000000011111111111111111111111111111111111111111",
  "1111111111111111111111000200000000000000000000000000000000000000200000001111111111111111111111111111111111111001111111110011111111111111110000111111111111111100011111111111111111111111111111111111111111111000011111111111110000001110000000011111111111111111111111111111111111111111",
  "1111111111111111111111000000000000000000000000000000000000000000000000001111111111111111111111111111111111111111111111110011111111111111110000111111111111111100011111111111111111111111111111111200000000000000000000000000000000000000000000000111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111100011111111111111111111111111111111000000000000000000000000000000111000000000000000111110111111111110200011111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111100011111111111111111111111111111111111111111100000000000000000001111100000000000001101100001111101100000011111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111100011111111111111111111111111111111111111111100000001111111111111111100000000000000000000000111100000011100000011111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111000011111111111111111111111111111111111111111110000001111111111111111100000000000000000000000000000000000000000001111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111000011111111111111111111111111111111111111111111000001111111111111111111000000000000000000000000000000000000000011111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111000011111111111111111111111111111111111111111111000001111111111111111111110000000000000000000000000000000000002011111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111000011111111111111111111111111111111111111111111000001111111111111111111110000000000000000000000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111110011111111111111110000111111111111111000001111111111111111111111111111111111111111111000001111111111111111111110000011110000000100000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111100200000000000000000000000000000000000000000000000000000000000000000000000000000201111111111111111111111111000001111111111111111111110000011111110000000000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111100000000000000000000000000000000000000000020000000000000000000000000000000000000001111111111111111111111111000011111111111111111111110000011111111100000000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111110000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000011111111111111111111110000011111111001110000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000011111111111111111111110000011111110001111000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000011111111111111111111110000011111000001111000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000011111111111111111111110000011111001100000000011111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111100001111111111111111111111111111111111000011111111111111111111110000011111111111110000011111110011111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111100001111111111111111111111111111111111000011111111111111111111110000011111110011110000011111111020111111111111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000011111111111111111111110000011111111111111000011111111000111100011111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000011111111111111111111110000011111111111111000011111111000111100011111111",
  "1111111111111111111111111111111121111111111110000111111111111120001111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111111111111111111000000000000011000000011110000011111000100001000010111111000111100001111111",
  "1111111111111111111111111111111100000111111110000111111111111100000111111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110001111111111111111111002000000000000000000000000000000000000000000011110000000000000000000000000000000000011111",
  "1111111111111111111111111111111100000000000000000000000000000000000011111111111111111111111111111111111111111000111111111111111111111111110000111111111111111111111111110000111111111111111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111",
  "1111111111111111111111111111111100000000000000000000000000000000000000111111111111111111111111111111111111111001111111111111111111111111110000111111111111111111111111110000111111111111111111000000000001110011111110001111111101110000000000000000000000000000000000000000000001111111",
  "1111111111111111111111111111111100111000111110000111111111111110000000001111111111111111111111111111111111111001111111111111111111111111110000111111111111111111111111110000111111111111111111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111111111100111111111110000111111111111110000000000011111111111111111111111111111111111001111111111111111111111111110000111111111111111111111111110000111111111111111111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111111111100111111111110000111111111111111111111000000000111111111111111111111111111111001111111111111111111111111110000111111111111111111111111110000111111111111111111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111111111100111111111110000111111111111111111111110000000000011111111111111111111111111001111111111111111111111111110000111111111111111111111111110000111111111111111111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111111111100111111111110000111111111111111111111111100000000000000000000000001111111111001111111111111111111111111110000111111111111111111111111111000111111111111111111111111111111111111111110001111111111111110000011111111111100000111111111111111111111111111",
  "1111111111111111111111111111111100111111111110000111111111111111111111111110000000000000000000000000000111111001111111111111111111111111110000111111111111111111111111111000111111111111111111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111111111100111111111110000111111111111111111111111110001111111111111111111000000000000000000011111111111111111111110000111111111111111111111111111000000000000000011111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111111111000111111111110000111111111111111111111111110001111111111111111111111110000000000000000000000000000000000000000111111111111111111111111111000000000000000001111111111111111111111111110001111111111111110000011111111111111000011111111111111111111111111",
  "1111111111111111111111111111111000111111111110000111111111111111111111111110001111111111111111111111111111111110000000000000000000000000000000111111111111111111111111111000000000000000001111111111111111111111111110001111111111111110000011111111111111000011111111111111111111111111",
  "1111111111111111111111111111111000011111110110000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111000111111111100001111111111111111111111111110001111111111111110000011111111111111000111111111111111111111111111",
  "1111111111111111111111111020000000000000000000000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111000111111111100001111111111111111111111111110001111111111111110000011111111111100000000111111111111111111111111",
  "1111111111111111111111111000000000000000000000000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111000111111111110000111111111111111111111111110001111111111111110000011111111111111000000111111111111111111111111",
  "1111111111111111111111111000111111111111111000000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111000111111111110000001111111111111111111111110001111111111111110000011111111111111000011011110111111111111111111",
  "1111111111111111111111111000111111111111111110000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111000111111111111000000001111111111111111111110001111111111111110000011111111111111000111111110001111111111111111",
  "1111111111111111111111111000111111111111111110000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111000111111111111000000000011111111111111111110001111111111111110000011111111111111000011101110000000111111111111",
  "1111111111111111111111111000111111111111111110000111111111111111111111111110201111111111111111111111111111111110001111111111111111111111110000000000000000000000000000000000111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000021111",
  "1111111111111111111111111000111111111111111110000111111111111111111111111110001111111111111111111111111111111110001111111111111111111111110000111111111111111111111000000000111111111111111110000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111",
  "1111111111111111111111110000111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111111110000111111111111111111111011111111111111111111111111111111111111111001111111111111111111111110000011111111111111111111111111111111111111111111",
  "1111111111111111111111110000111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111111110000111111111111111111111001111111111111111111111111111111111111111001111111111111111111111110000011111111111111111111111111111111111111111111",
  "1111111111111111111111100001111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111111110000111111111111111111111011111111111111111111111111111111111111111001111111111111111111111110000011111111111111111111111111111111111111111111",
  "1111111111111111111100000011111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111111110000111111111111111111111211111111111111111111111111111111111111111001111111111111111111111110000011111111111111111111111111111111111111111111",
  "1111111111111111111102000111111111111111111110000111111111111110111111111111111111111111111111111111111111111110001111111111111111111111110000111111111111111111111011111111111111111111111111111111111111111001111111111111111111111110000011100000001111111111111111111111111111111111",
  "1111111111111111111100001111111111111111111110000000000000000000011111111111111111111111111111111111111111111110000011111111111111111111110000111111111111111111111111111111111111111111111111111111111111111001111111111111111111111110000000000000000001111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000000000000000000011111111111111111111111111111111111111111111110000011111111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111111110000000000000000001111111111111111111111111111111",
  "1111111111111111111111111111111111111111111110000111111111100000011111111111111111111111111111111111111111111110001111111111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111110000000000000000000000111111111111111111000011111111",
  "1111111111111111111111111111111111111111111110000111111111100000011111111111111111111111111111111111111111111100001111111111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111111111111111111110000000000000000000000011111111111111111000001111111",
  "1111111111111111111111111111111111111111111110000111111111100002011111111111111111111111111111111111111111111000001111111111111111111111110000111111111111111111111111111111111111111111111111111111111111110001111000000000000011110000000000000000000000011111111111111100000001111111",
  "1111111111111111111111111111111111111111111110000111111111100000011111111111111111111111111111111111111111111000001111111111111111111111110000111111111111111111111111111111111111111111111111111111111111000000110000000000000001100000000000000000000000001111111111111000000001111111",
  "1111111111111111111111111111111111111111111110000111111111111000011111111111111111111111111111111111111111111102000000000000000000000000000000000000001111111111111111111111111111111111111111111111111111100000000001111110000000000000000000000000000000000000000011000000000001111111",
  "1111111111111111111111111111111111111111111110000111111111111111011111111111111111111111111111111111111111111000000000000000000000000000000000100000001111111111111111111111111111111111111111111111111111110020000001111111111100001000000011111111111000000000000000000200000001111111",
  "1111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111000001111111111111111111010000011111111111000000000000000000000000011111111",
  "1111111111111111111111111111111111111111111110200111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110200111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000011111111111100000000000000000000000111111111",
  "1111111111111111111111111111111111111111111111001111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000011111111111111000000000000000000000111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111100000000011111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
  "1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111",
];



























// ضبط أبعاد الخريطة تلقائيًا حسب بيانات collisions
MAP_ROWS = collisions.length;
MAP_COLS = (collisions[0] || "").length;





















// ===== عناصر تفاعلية حسب أرقام collisions (2..6) =====
const ASSETS = {
  "2": { type: "collect", img: "resh.gif" }, // نجمة
  "3": { type: "toggle",  img: "fish01.gif",  imgOn:"fish02.gif"  },
  "4": { type: "toggle",  img: "loh.png", imgOn:"https://art.pixilart.com/sr5zffc7ee9788aws32.png" },
  "5": { type: "toggle",  img: "https://art.pixilart.com/sr5z68b3429e3caws33.png", imgOn:"https://art.pixilart.com/sr5zffc7ee9788aws33.png" },
  "6": { type: "toggle",  img: "https://art.pixilart.com/sr5z68b3429e3caws34.png", imgOn:"https://art.pixilart.com/sr5zffc7ee9788aws34.png" },
};

const LEVEL_ID = "forest"; // غيّرها لكل مرحلة: "village" / "farm" / "castle"

const STORAGE_SCORE_KEY = "GameBon_stars_total";
const STORAGE_COLLECTED_KEY = "GameBon_collected_" + LEVEL_ID;

// ===== Ve04: تفريمت كاملة عند تحديث الصفحة =====
try{
  localStorage.removeItem(STORAGE_SCORE_KEY);
  localStorage.removeItem(STORAGE_COLLECTED_KEY);
}catch(e){}

const TOTAL_STARS = 100;
let gameEnded = false;

// ابدأ دائماً من الصفر
let score = 0;
let collectedSet = new Set();
const scoreEl = document.getElementById("score");
const timerEl = document.getElementById("timer");
scoreEl.textContent = score;

// ===== مؤقت (عدّاد تنازلي 5 دقائق) =====
const GAME_DURATION_MS = 5 * 60 * 1000; // 05:00
let startTime = Date.now();            // وقت بداية الجولة (يُستخدم في النتائج/الريستارت)
let endAt = startTime + GAME_DURATION_MS;

function fmtTime(ms){
  const total = Math.max(0, Math.floor(ms/1000));
  const m = String(Math.floor(total/60)).padStart(2,"0");
  const s = String(total%60).padStart(2,"0");
  return `${m}:${s}`;
}

let timerInt = null;

function startCountdown(){
  clearInterval(timerInt);
  startTime = Date.now();
  endAt = startTime + GAME_DURATION_MS;
  timerEl.textContent = fmtTime(GAME_DURATION_MS);

  timerInt = setInterval(()=>{
    const remaining = endAt - Date.now();
    if(remaining <= 0){
      timerEl.textContent = "00:00";
      clearInterval(timerInt);
      if(!gameEnded) showEndScreen(); // انتهى الوقت
      return;
    }
    timerEl.textContent = fmtTime(remaining);
  }, 250);
}

startCountdown();
// ===== واجهة البداية (حوارين) =====
const introOverlay = document.getElementById("introOverlay");
const introText = document.getElementById("introText");
const introYes = document.getElementById("introYes");
const introImg = document.getElementById("introImg");

let introStep = 1;
function openIntro(){
  introStep = 1;
  introImg.src = "s01.png";
  // بدون نصوص (صور فقط)
  introYes.innerHTML = '<i class="fa-solid fa-play"></i>';
  introOverlay.style.display = "flex";
}
introYes.addEventListener("click", ()=>{
  if(introStep === 1){
    introStep = 2;
    introImg.src = "s02.png";
    introYes.innerHTML = '<i class="fa-solid fa-play"></i>';
    return;
  }
  if(introStep === 2){
    introStep = 3;
    introImg.src = "s03.png";
    introYes.innerHTML = '<i class="fa-solid fa-check"></i>';
    return;
  }
  // introStep === 3
  introOverlay.style.display = "none";
  startTime = Date.now();
});
// افتح شاشة البداية أول ما الصفحة تفتح
openIntro();

// ===== تكبير/تصغير =====
let zoomIndex = 3; // افتراضي
const zoomLevels = [0.8, 0.9, 1, 1.1];
const zoomLayer = document.getElementById("zoomLayer");
const zoomVal = document.getElementById("zoomVal");

function applyZoom(){
  const z = zoomLevels[zoomIndex];
  zoomLayer.style.setProperty("--zoom", z);
  zoomVal.textContent = z + "x";
}
document.getElementById("zoomIn").addEventListener("click", ()=>{
  if(zoomIndex < zoomLevels.length-1){ zoomIndex++; applyZoom(); }
});
document.getElementById("zoomOut").addEventListener("click", ()=>{
  if(zoomIndex > 0){ zoomIndex--; applyZoom(); }
});
applyZoom();

// ===== منع تكبير/تصغير المتصفح (استخدم أزرار الزوم داخل اللعبة فقط) =====
window.addEventListener("wheel", (e)=>{
  if(e.ctrlKey){ e.preventDefault(); }
}, {passive:false});

window.addEventListener("keydown", (e)=>{
  if((e.ctrlKey || e.metaKey) && ["+","=","-","_","0"].includes(e.key)){
    e.preventDefault();
  }
});

document.addEventListener("gesturestart", (e)=>e.preventDefault());
document.addEventListener("gesturechange", (e)=>e.preventDefault());
document.addEventListener("gestureend", (e)=>e.preventDefault());


// ===== زر العين: اضغط مطول لإظهار العقبات =====
const eyeBtn = document.getElementById("eyeBtn");
if(eyeBtn){
  const showCollide = ()=>{ document.documentElement.style.setProperty("--collide-opacity", "0.6"); };
  const hideCollide = ()=>{ document.documentElement.style.setProperty("--collide-opacity", "0"); };

  eyeBtn.addEventListener("mousedown", showCollide);
  eyeBtn.addEventListener("touchstart", showCollide, {passive:true});
eyeBtn.addEventListener("mouseup", hideCollide);
  eyeBtn.addEventListener("mouseleave", hideCollide);
  eyeBtn.addEventListener("touchend", hideCollide, {passive:true});
eyeBtn.addEventListener("touchcancel", hideCollide, {passive:true});
}
// ===== رسم المسارات على Canvas (0 = مسموح) =====
const collisionCanvas = document.getElementById("collisionCanvas");
function getPixelSize(){
  // --pixel-size قد يكون clamp()، فنعمل قياس فعلي بالبكسل
  const t = document.createElement("div");
  t.style.width = "var(--pixel-size)";
  t.style.position = "absolute";
  t.style.visibility = "hidden";
  document.body.appendChild(t);
  const px = t.getBoundingClientRect().width || 2;
  t.remove();
  return px;
}
function drawCollisionOverlay(){
  const px = getPixelSize();
  const w = MAP_COLS * TILE * px;
  const h = MAP_ROWS * TILE * px;
  collisionCanvas.width = w;
  collisionCanvas.height = h;

  const ctx = collisionCanvas.getContext("2d");
  ctx.clearRect(0,0,w,h);
  ctx.fillStyle = "rgba(255,0,0,0.35)";

  for(let row=0; row<MAP_ROWS; row++){
    const line = collisions[row];
    for(let col=0; col<MAP_COLS; col++){
      if(line[col] === "1"){
        ctx.fillRect(col*TILE*px, row*TILE*px, TILE*px, TILE*px);
      }
    }
  }
}
window.addEventListener("resize", ()=>{ drawCollisionOverlay(); });
drawCollisionOverlay();

// ===== شاشة النهاية + مشاركة =====
const endOverlay = document.getElementById("endOverlay");
const endStars = document.getElementById("endStars");
function showEndScreen(){
  gameEnded = true;
  clearInterval(timerInt);
  held_directions = [];
  character.setAttribute("walking", "false");

  endStars.textContent = String(score);
  endOverlay.style.display = "flex";
}

async function shareResult(){
  const box = document.getElementById("shareCard");
  try{
    const canvas = await html2canvas(box, {backgroundColor:"#000"});
    canvas.toBlob(async (blob)=>{
      if(!blob) return;
      const file = new File([blob], "rashid-score.png", {type:"image/png"});
      if(navigator.share && navigator.canShare && navigator.canShare({files:[file]})){
        await navigator.share({ files:[file], title:"نتيجة لعبة راشد" });
      }else{
        // بديل: تحميل الصورة
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "rashid-score.png";
        a.click();
        URL.revokeObjectURL(a.href);
      }
    }, "image/png");
  }catch(e){
    alert("المشاركة غير مدعومة على هذا الجهاز.");
  }
}
document.getElementById("shareBtn").addEventListener("click", shareResult);


// ===== إعادة اللعبة =====
function resetGame(){
  // تصفير التخزين
  localStorage.removeItem(STORAGE_SCORE_KEY);
  localStorage.removeItem(STORAGE_COLLECTED_KEY);

  score = 0;
  scoreEl.textContent = "0";
  collectedSet = new Set();

  // إظهار كل النجوم من جديد
  document.querySelectorAll('.map-item[data-type="2"]').forEach(el=>{
    el.classList.remove("hidden");
    el.removeAttribute("data-collected"); // مهم: عشان يرجع يجمع بعد الريستارت
  });

  // رجوع لنقطة البداية
  x = START_X;
  y = START_Y;

  // إعادة الوقت + حالة اللعبة
  startCountdown();
  gameEnded = false;
  held_directions = [];
  character.setAttribute("walking", "false");

  // تحديث مكان الكاميرا/الشخصية فورًا
  try{ placeCharacter(); }catch(e){}

  // إغلاق النهاية + فتح البداية
  endOverlay.style.display = "none";
  openIntro();
}
const confirmRestartOverlay = document.getElementById("confirmRestartOverlay");
const confirmRestartYes = document.getElementById("confirmRestartYes");
const confirmRestartNo = document.getElementById("confirmRestartNo");

document.getElementById("restartYes").addEventListener("click", ()=>{
  if(confirmRestartOverlay) confirmRestartOverlay.style.display = "flex";
});
document.getElementById("restartNo").addEventListener("click", ()=>{
  endOverlay.style.display = "none";
});

if(confirmRestartYes){
  confirmRestartYes.addEventListener("click", ()=>{
    confirmRestartOverlay.style.display = "none";
    resetGame();
  });
}
if(confirmRestartNo){
  confirmRestartNo.addEventListener("click", ()=>{
    confirmRestartOverlay.style.display = "none";
  });
}
// معرفة خانة "قدم" الشخصية
function getFootTile(px, py){
  const footX = px + TILE;
  const footY = py + TILE * 2 - 2;
  return {
    col: Math.floor(footX / TILE),
    row: Math.floor(footY / TILE)
  };
}

// بناء العناصر من collisions
const itemsByKey = {}; // key: "row,col"
function buildItems(){
  for(let row=0; row<MAP_ROWS; row++){
    for(let col=0; col<MAP_COLS; col++){
      const ch = collisions[row][col];
      if(!ASSETS[ch]) continue;

      const key = `${row},${col}`;
      const el = document.createElement("div");
      el.className = "map-item pixel-art";
      el.dataset.type = ch;
      el.dataset.row = row;
      el.dataset.col = col;
      el.dataset.state = "off";
	  
el.style.left = `calc(${col} * var(--grid-cell) + var(--grid-cell)/2)`;
el.style.top  = `calc(${row} * var(--grid-cell) + var(--grid-cell)/2)`;

	  
      el.style.backgroundImage = `url("${ASSETS[ch].img}")`;

      // إذا كانت نجمة وتم جمعها سابقًا (حفظ) اخفها
      if(ch === "2" && collectedSet.has(key)){
        el.classList.add("hidden");
        el.dataset.collected = "1";
      }

      // دعم لمس + ماوس
      el.addEventListener("pointerdown", (e)=>{
        e.preventDefault();

        // عقبة رقم 6: إنهاء اللعبة
        if(ch === "6"){
          showEndScreen();
          return;
        }

        if(ASSETS[ch].type === "collect"){
          // نجمة: اختفاء + زيادة سكور
          el.classList.add("hidden");
          if(!el.dataset.collected){
            el.dataset.collected = "1";
            score++;
            scoreEl.textContent = score;

            // حفظ الإجمالي + حفظ نجمة هذه المرحلة
            localStorage.setItem(STORAGE_SCORE_KEY, String(score));
            collectedSet.add(key);
            localStorage.setItem(STORAGE_COLLECTED_KEY, JSON.stringify(Array.from(collectedSet)));

            if(score >= TOTAL_STARS){
              showEndScreen();
            }
          }
          return;
        }

        // toggle (3..6): ضغط = تبديل (تشغيل/إيقاف)
if(el.dataset.state === "on"){
  el.dataset.state = "off";
  el.style.backgroundImage = `url("${ASSETS[ch].img}")`;
}else{
  el.dataset.state = "on";
  el.style.backgroundImage = `url("${ASSETS[ch].imgOn}")`;
}

		
      }, { passive:false });

      
map.appendChild(el);
      itemsByKey[key] = el;
    }
  }
}
buildItems();


// دالة تفحص هل المكان الجديد فيه عائق
// نستخدم نقطة "قدم" الشخصية عشان الإحساس يكون واقعي (مو الرأس)
function isBlocked(px, py) {
  const footX = px + TILE;          // منتصف الشخصية (عرضها خانتين)
  const footY = py + TILE * 2 - 2;  // قريب من أسفل الشخصية (نقطة القدم)

  const col = Math.floor(footX / TILE);
  const row = Math.floor(footY / TILE);

  // إذا خرجنا برا حدود الخريطة نعتبره عائق
  if (row < 0 || row >= MAP_ROWS || col < 0 || col >= MAP_COLS) return true;

  return collisions[row][col] === "1";
}


const placeCharacter = () => {
   var pixelSize = getPixelSize();
   if(gameEnded){
     // إبقاء الكاميرا على آخر مكان بدون حركة
   }
   // اجعل التكبير يتم على الشخصية
   zoomLayer.style.transformOrigin = `${x*pixelSize}px ${y*pixelSize}px`;
   const held_direction = gameEnded ? null : held_directions[0];
   if (held_direction) {
      let nx = x;
      let ny = y;

      if (held_direction === directions.right) nx += speed;
      if (held_direction === directions.left)  nx -= speed;
      if (held_direction === directions.down)  ny += speed;
      if (held_direction === directions.up)    ny -= speed;

      // امنع الحركة إذا الخانة القادمة فيها عائق
      if (!isBlocked(nx, ny)) {
         x = nx;
         y = ny;
      }
      character.setAttribute("facing", held_direction);
   }
   character.setAttribute("walking", held_direction ? "true" : "false");

   
   //Limits (gives the illusion of walls)
   var leftLimit = -8;
   var rightLimit = (402 * 11)+8;
   var topLimit = -15 + 8;
   var bottomLimit = (670 * 7);
   
   if (x < leftLimit) { x = leftLimit; }
   if (x > rightLimit) { x = rightLimit; }
   if (y < topLimit) { y = topLimit; }
   if (y > bottomLimit) { y = bottomLimit; }
   
   
const cam = document.querySelector(".camera").getBoundingClientRect();

// نصف عرض/ارتفاع الشاشة
var camera_left = (cam.width  / 2) - (16 * pixelSize);
  // 16*pixelSize = نصف عرض الشخصية
var camera_top  = (cam.height / 2) - (16 * pixelSize) + (20 * pixelSize); 
// ↑ زوّد 20 عشان تنزل تحت (غيّر الرقم حسب اللي يعجبك)

   
   // ملاحظة: بما أن zoomLayer يُعمل scale، لازم نقسم الترجمة على قيمة الزوم عشان الكاميرا ما تتأخر
const z = Number(getComputedStyle(zoomLayer).getPropertyValue('--zoom')) || 1;
   map.style.transform = `translate3d( ${(-x*pixelSize+camera_left)/z}px, ${(-y*pixelSize+camera_top)/z}px, 0 )`;
   character.style.transform = `translate3d( ${x*pixelSize}px, ${y*pixelSize}px, 0 )`;  
}


//Set up the game loop
const step = () => {
   placeCharacter();
   window.requestAnimationFrame(() => {
      step();
   })
}
step(); //kick off the first step!



/* Direction key state */
const directions = {
   up: "up",
   down: "down",
   left: "left",
   right: "right",
}
const keys = {
   38: directions.up,
   37: directions.left,
   39: directions.right,
   40: directions.down,
}
document.addEventListener("keydown", (e) => {
   var dir = keys[e.which];
   if (dir && held_directions.indexOf(dir) === -1) {
      held_directions.unshift(dir)
   }
})

document.addEventListener("keyup", (e) => {
   var dir = keys[e.which];
   var index = held_directions.indexOf(dir);
   if (index > -1) {
      held_directions.splice(index, 1)
   }
});



/* ===== عصا تحكم (Joystick) بدل الأسهم =====
   - نستخدم مكتبة nipplejs
   - عند السحب نحدد اتجاه واحد (أقرب اتجاه: فوق/تحت/يمين/يسار)
   - عند ترك العصا: الشخصية توقف
*/
var joy = nipplejs.create({
   zone: document.getElementById('joyZone'),
   mode: 'static',
   position: { left: '50%', top: '50%' }, // وسط مربع joyZone
   size: 90
});

joy.on('move', function (evt, data) {
   // إذا السحب بسيط جداً، اعتبره توقف (عشان ما يهتز)
   if (!data || data.distance < 10) {
      held_directions = [];
      return;
   }

   var deg = data.angle.degree; // 0..360

   // تقسيم الزوايا إلى 4 اتجاهات
   if (deg >= 45 && deg < 135) {
      held_directions = [directions.up];
   } else if (deg >= 135 && deg < 225) {
      held_directions = [directions.left];
   } else if (deg >= 225 && deg < 315) {
      held_directions = [directions.down];
   } else {
      held_directions = [directions.right];
   }
});

joy.on('end', function () {
   held_directions = [];
});



// === زر العين: اضغط مطول لإظهار التصادمات ===
/* removed duplicate eyeBtn block */
</script>
   
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html> 
